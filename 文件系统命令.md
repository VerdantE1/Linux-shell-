## 文件系统命令

###### 1.文件和目录列表

要想知道系统中有哪些文件，可以使用列表命令（ls）。本节将描述ls命令和可用来格式化 其输出信息的选项。

###### ls

ls命令输出的列表是按字母排序的。基本ls没有显示出隐藏文件。隐藏文件是以点号开始的文件.

**ls -F** 	区分文件，*代表可执行文件

**ls -a**	可以把隐藏文件一并显示出来。

**ls -R** 	递归选项，它列出了当前目录下包含的子目录中的文件。

**ls -l**		长列表选项，包含更多信息

**ls -d**      	列出目录本身的属性

**ls -i**		查看inode编号

```shell
更多信息：
文件类型：d目录  -文件  c字符型文件 b块设备
文件权限，文件硬链接总数，文件属主用户名，文件属组组名，文件大小Byte,文件上次修改时间，文件名或目录名
```

**ls 字符串**  过滤输出列表

```cpp
?代表一个字符； *代表零个或多个字符；
[a~i]该范围内的字母，[!a]感叹号将不需要的内容排除在外,[ai]a,i两个选择
```





```shell
选项并一定要像例子中那样分开输入：ls –F –R。它们可以进行如下合并：ls –FR
```







###### 2.文件操作

**touch** 创建空文件，更改已有文件访问时间和修改时间

**cp** source destination   复制S文件并以D命名，新文件像全新文件，有更改时间

```shell
cp命令不会提醒目标文件已存在，最好是加上-i选项，强制shell询问是否需要覆盖文件
cp可以使用通配符如 cp *scripts  DEC/ 有关scripts的文件全复制到DEC目录
制表键输出的是文件名
```

**cp -R  ** source destination    递归的复制整个目录的内容，destination可以存在可以不存在，不存在则创建

**ln -s**   source   symbolfile    用symbol符号链接到source文件，两个不是同一个文件，相当于一种快捷方式，这是软链接

**ln**  	source    hardfile      创建独立的虚拟文件，包含了原始文件的信息，但从根本上是同一个文件，引用硬链接文件等同于引用了源文件。

```shell
只能对于处于同一存储媒体的文件创建硬链接，要想在不同的存储媒体之间创建链接，只能使用符号链接
复制链接文件的时候一定要小心。如果使用cp命令复制一个文件，而该文件又已经被链接
到了另一个源文件上，那么你得到的其实是源文件的一个副本。这很容易让人犯晕。用不着复制链接文件，可以创建原始文件的另一个链接。同一个文件拥有多个链接，这完全没有问题。但是，千万别创建软链接文件的软链接。这会形成混乱的链接链，不仅容易断裂，还会造成各种麻烦
```

- 硬链接和软链接的区别

  ```shell
  硬链接和软链接的区别：
  
  - 软链接：类似于 Windows 系统中给文件创建快捷方式，即产生一个特殊的文件，该文件用来指向另一个文件，此链接方式同样适用于目录。
  - 硬链接：我们知道，文件的基本信息都存储在 inode 中，而硬链接指的就是给一个文件的 inode 分配多个文件名，通过任何一个文件名，都可以找到此文件的inode，从而读取该文件的数据信息。
  ```

  

**mv** source destination   	将文件和目录移动到另一个位置或重新命名，但inode编号和时间戳不变，因为mv只影响文件名

```shell
mv和cp命令类似，也可以在mv命令中使用-i参数。这样在命令试图覆盖已有的文件时，你就会得到提示。
```



**rm**   file    删除文件

```shell
-i  提示
-f  如果要删除很多文件且不受提示符的干扰，-f强制删除
```



###### 3.目录操作

`在Linux中，有些命令（比如cp命令）对文件和目录都有效，而有些只对目录有效。创建新 目录需要使用本节讲到的一个特殊命令。删除目录也很有意思`

**mkdir** 	目录名   创建单个目录名

**mkdir   -p**  	目录名/目录名/···  	同时创建多个目录和子目录

**rmdir**   目录名 		默认情况下，rmdir命令只删除空目录

**rm -r**  目录名     向下进入目录，递归删除其中的文件再删除目录本身

```shell
最好加上参数-i  即rm -ri  养成习惯
一口气删除目录及其所有内容的终极大法就是  rm -rf
```



###### 4.查看文件内容

`Linux中有几个命令可以查看文件的内容，而不需要调用其他文本编辑器（参见第10章）。本 节将演示一些可以帮助查看文件内容的命令。`

**file** 文件名     查看文件类型，探测文件内部决定文件类型 并针对特定的文件所需类型的库等信息一一展示

**cat** 文件名   		显示文本文件内容

**cat -n** 文件名   	显示文本文件内容，并加上行号

**cat -b** 文件名  	只给文本行加行号

**cat -T** 文件名  	用^T代表TAB

**more**  文件名        看大型文件的分页工具，但会在显示每页数据之后停下来

**less**  文件名        "less is more" more的升级版，能够实时文件翻动，还有高级搜索功能

```shell
z/b 向前/后翻一页（也可以使用滚轮和箭头，箭头一次只能移动一行）
v 进入编辑模式
g/G 直接跳到第一行/最后一行（或第n行）
/word 向前搜索关键词
？word向后搜索关键词
n/N正向/反向继续搜索关键词
q 退出
```

**tail**  文件名  			查看局部文件，最后10行

**tail -n** 数字 文件名   查看最后几行

**tail -f** 		它允许你在其他进程使用该文件时查看文件的内容

**head**        	查看开始10行

**head - n**  数字  文件名     开头几行





###### 5.系统管理命令

**ps**   	默认情况下，输出当前控制台下的属于当前用户的进程。（只显示某个特定时间点的信息，如果想观察频繁换进换出的内存进程形势用top）

```shell
几组指令
ps -e  显示所有进程
ps -f  显示完整格式的输出
ps -l  显示长列表
列表：
F：内核分配给进程的系统标记。
S：进程的状态（O代表正在运行；S代表在休眠；R代表可运行，正等待运行；Z代表僵化，进程已结束但父进程已不存在；T代表停止）。
PRI：进程的优先级（越大的数字代表越低的优先级）。
NI：谦让度值用来参与决定优先级。
ADDR：进程的内存地址。
SZ：假如进程被换出，所需交换空间的大致大小。
WCHAN：进程休眠的内核函数的地址。
UID：启动这些进程的用户。
PID：进程的进程ID。
PPID：父进程的进程号（如果该进程是由另一个进程启动的）。
C：进程生命周期中的CPU利用率。
STIME：进程启动时的系统时间。
TTY：进程启动时的终端设备。
TIME：运行进程需要的累计CPU时间。
CMD：启动的程序名称。
```

**top** 			动态查看程序进程

```shell
f键对输出进行排序，d键允许你修改轮询间隔，q退出top
```

**kill**   进程号			 发送TERM信号强制终止程序

**killall** 文件名    		它支持进程名而不是PID来结束进程

```shell
killall http*  结束所有以http开头的
警告：以root用户身份登录系统时，使用killall命令要特别小心，因为很容易就会误用通配符而结束了重要的系统进程。这可能会破坏文件系统
```

